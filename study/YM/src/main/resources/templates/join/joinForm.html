<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <script src=https://code.jquery.com/jquery-3.7.1.min.js></script>
    <title>로그인폼</title>
</head>
<body>

<h1>회원가입</h1>
<form action="/joinSuccess" method="post">
    <label for="userId">아이디 :</label>
    <input type="text" id="userId" name="userId" required><br>

    <label for="userPassword">비밀번호 :</label>
    <input type="password" id="userPassword" name="userPassword" required><br>

    <label for="userPassword">비밀번호 확인 :</label>
    <input type="password" id="confirmUserPassword" name="confirmUserPassword" required><br>

    <label for="userName">이름 :</label>
    <input type="text" id="userName" name="userName" required><br>

    <label for="userName">닉네임 :</label>
    <input type="text" id="nickName" name="nickName" required><br> <a href=""></a>

    <tr>
        <label for="emailId" ><th scope="row">이메일 :</th></label>
        <td>
            <input type="text" id="emailId" name="emailId" class="form_w200" value="" title="이메일 아이디" placeholder="이메일" maxlength="18" /> @
            <input type="text" id="emailDomain" name="emailDomain" class="form_w200" value="" title="이메일 도메인" placeholder="이메일 도메인" maxlength="18"/>
            <select class="select" title="이메일 도메인 주소 선택" onclick="setEmailDomain(this.value);return false;">
                <option value="">-선택-</option>
                <option value="naver.com">naver.com</option>
                <option value="gmail.com">gmail.com</option>
                <option value="hanmail.net">hanmail.net</option>
                <option value="nate.com">nate.com</option>
                <option value="yahoo.com">yahoo.com</option>
            </select>
        </td>
    </tr><br>

    <label for="userPicture">프로필 사진 업로드 :</label>
    <input type="file" id="userPicture" name="userPicture" required><br>

    <label for="userMbti">MBTI :</label>
    <input type="text" id="userMbti" name="userMbti"><br>

    <label for="birthday">생일 :</label>
    <input type="date" id="birthday" name="birthday" required><br>

    <button type="submit" onclick="return validateForm()">회원가입</button>
</form>

<script> 
    function validateForm() {
        var emailId = document.getElementById("emailId").value;
        var emailDomain = document.getElementById("emailDomain").value;
        var mail = emailId + "@" + emailDomain;
        var email_rule = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;

        if (!emailId || !emailDomain) {
            alert("이메일을 입력해주세요");
            return false;
        }

        if (!email_rule.test(mail)) {
            alert("이메일을 형식에 맞게 입력해주세요.");
            return false;
        }

        var userPassword = document.getElementById("userPassword").value;
        var confirmUserPassword = document.getElementById("confirmUserPassword").value;

        if (userPassword !== confirmUserPassword) {
            alert("비밀번호가 일치하지 않습니다.");
            return false;
        }
        var inputElement = document.getElementById("userMbti");
        var inputValue = inputElement.value.toUpperCase(); // 입력된 문자열을 대문자로 변환

        // 정규표현식으로 유효성 검사
        var validPattern = /^[EI][NS][FT][PJ]$/;

        if (inputValue.length !== 4 || !validPattern.test(inputValue)) {
            alert("올바른 MBTI를 입력해주세요.");
            return false;
        }

  

        return true;
    }

    function setEmailDomain(domain) {
        document.getElementById("emailDomain").value = domain;
    }
</script>




  
</body>
</html>